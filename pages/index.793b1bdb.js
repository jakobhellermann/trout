function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire165c;let a;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire165c=o),o.register("27Lyk",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("27Lyk").register(JSON.parse('{"ckqYN":"index.793b1bdb.js","anWGj":"worker.f3f1d476.js"}'));let i={initialized:!1,running:!1,worker:null};var l,s={};l=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};let d=new URL(o("27Lyk").resolve("anWGj"),import.meta.url);s=l(d.toString(),d.origin,!0);let c=()=>function(){let e=new Worker(s),t={eventType:"INITIALIZE"};return new Promise(((n,r)=>{e.onerror=r,e.onmessageerror=r,e.onmessage=t=>{"INITIALIZED"==t.data.eventType&&(e.onmessage=function(){},n(e))},e.postMessage(t)}))}().then((e=>{e.addEventListener("error",(e=>m(new Error(e.message)))),e.addEventListener("message",g),i={initialized:!0,running:!1,worker:e}})),u=e=>{},m=e=>{};function g(e){if("INITIALIZED"==e.data.eventType)throw new Error("double initialization");"EMIT"==e.data.eventType?a(e.data.solution,e.data.updatedIndex):"ERROR"==e.data.eventType?m(e.data.error):"FINISH"==e.data.eventType&&(console.timeEnd("solve"),i.running=!1,u(e.data.stats))}function f(e){if(!i.initialized)return console.warn("attempted to solve before initialization"),Promise.resolve(void 0);if(i.running)return console.warn("terminating worker for new request"),console.timeEnd("solve"),i.worker.terminate(),c().then((()=>f(e)));console.time("solve"),i.running=!0;let t={eventType:"CALL",params:e};return i.worker.postMessage(t),new Promise(((e,t)=>{u=e,m=t}))}c();let p=document.getElementById("themeToggleButton"),y=window.matchMedia("(prefers-color-scheme: dark)"),h="theme",v="dark-theme",E="light-theme",w=localStorage.getItem(h);"dark"==w?document.body.classList.toggle(v):"light"==w?document.body.classList.toggle(E):w=y.matches?"dark":"light",p.textContent=`Theme: ${w}`,p.addEventListener("click",(()=>{let e;y.matches?(document.body.classList.toggle(E),e=document.body.classList.contains(E)?"light":"dark"):(document.body.classList.toggle(v),e=document.body.classList.contains(v)?"dark":"light"),localStorage.setItem(h,e),p.textContent=`Theme: ${e}`}));let I=document.getElementById("solveBtn"),b=document.getElementById("outputList"),L=document.getElementById("loadingIndicator"),k=document.getElementById("errorMessage"),S=document.getElementById("statsMessage"),x=document.getElementById("timeTable"),C=document.getElementById("nSolutions"),T=document.getElementById("maxRestarts"),R=document.getElementById("onlyRequiredRestarts");document.getElementById("restartPenalty");x.addEventListener("keypress",(e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),I.click())}));let B=e=>L.classList.toggle("disabled",!e);function N(e,t){let n=e%1e3,r=(e=(e-n)/1e3)%60,o=(e=(e-r)/60)%60,a=(e-o)/60,i=`${r.toString().padStart(2,"0")}.${n.toString().padStart(3,"0")}`;return(t||0!=o)&&(i=`${o.toString().padStart(2,"0")}:${i}`),0!=a&&(i=`${a.toString().padStart(2,"0")}:${i}`),i}a=(e,t)=>{let n=Number(C.value),r=function(e){let t=document.createElement("span");t.textContent=`${N(17*e.time,!0)} (${e.time}) with`;let n=document.createElement("code"),r=e.route.flatMap(((t,n)=>{if(0==n)return[];let r=[];if(0===t){let e=document.createElement("span");e.textContent="[R]",e.className="restart",r.push(e)}else r.push(t.toString());return n!==e.route.length-1&&r.push(", "),r}));n.replaceChildren(...r);let o=document.createElement("li");return o.className="newSolution",o.replaceChildren(t," ",n),o}(e);var o,a,i;a=r,(i=t)>=(o=b).childElementCount?o.appendChild(a):b.insertBefore(a,o.children[i]),function(e,t){for(;e.childElementCount>t;)e.removeChild(e.lastChild)}(b,n)},I.addEventListener("click",(()=>{B(!0),b.replaceChildren(),S.textContent="",k.textContent="";let e=x.value,t=Number(C.value),n=""!==T.value?Number(T.value):void 0,r=R.checked,o=Date.now();f({table:e,maxSolutions:t,maxRestarts:n,onlyRequiredRestarts:r,restartPenalty:190}).then((e=>{let t=Date.now();if(e){let n=`${e.solutions} solutions found, ${e.iterations} calls to pathfind function and ${e.cutBranches} cut branches, in ${N(t-o,!0)} `;S.textContent=n}else S.textContent="Code not fully loaded yet, try again later"})).catch((e=>{k.textContent=`Error: ${e.message}`,console.error(e)})).finally((()=>{B(!1)}))}));
//# sourceMappingURL=index.793b1bdb.js.map
