function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire165c;let i;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire165c=o),o.register("27Lyk",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("27Lyk").register(JSON.parse('{"1Gxa9":"index.98179adc.js","eiVB1":"worker.7048786b.js"}'));let a={initialized:!1,running:!1,worker:null};var l,s={};l=function(e,t,n){if(t===self.location.origin)return e;var r=n?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))};let d=new URL(o("27Lyk").resolve("eiVB1"),import.meta.url);s=l(d.toString(),d.origin,!0);let c=()=>function(){let e=new Worker(s),t={eventType:"INITIALIZE"};return new Promise(((n,r)=>{e.onerror=r,e.onmessageerror=r,e.onmessage=t=>{"INITIALIZED"==t.data.eventType&&(e.onmessage=function(){},n(e))},e.postMessage(t)}))}().then((e=>{e.addEventListener("error",(e=>m(new Error(e.message)))),e.addEventListener("message",g),a={initialized:!0,running:!1,worker:e}})),u=e=>{},m=e=>{};function g(e){if("INITIALIZED"==e.data.eventType)throw new Error("double initialization");"EMIT"==e.data.eventType?i(e.data.solution,e.data.updatedIndex):"ERROR"==e.data.eventType?m(e.data.error):"FINISH"==e.data.eventType&&(console.timeEnd("solve"),a.running=!1,u(e.data.stats))}function f(e){if(!a.initialized)return console.warn("attempted to solve before initialization"),Promise.resolve(void 0);if(a.running)return console.warn("terminating worker for new request"),console.timeEnd("solve"),a.worker.terminate(),c().then((()=>f(e)));console.time("solve"),a.running=!0;let t={eventType:"CALL",params:e};return a.worker.postMessage(t),new Promise(((e,t)=>{u=e,m=t}))}c();let p=document.getElementById("themeToggleButton"),y=window.matchMedia("(prefers-color-scheme: dark)"),v="theme",h="dark-theme",E="light-theme",w=localStorage.getItem(v);"dark"==w?document.body.classList.toggle(h):"light"==w?document.body.classList.toggle(E):w=y.matches?"dark":"light",p.textContent=`Theme: ${w}`,p.addEventListener("click",(()=>{let e;y.matches?(document.body.classList.toggle(E),e=document.body.classList.contains(E)?"light":"dark"):(document.body.classList.toggle(h),e=document.body.classList.contains(h)?"dark":"light"),localStorage.setItem(v,e),p.textContent=`Theme: ${e}`}));let I=document.getElementById("solveBtn"),b=document.getElementById("outputList"),L=document.getElementById("loadingIndicator"),k=document.getElementById("errorMessage"),x=document.getElementById("statsMessage"),S=document.getElementById("timeTable"),C=document.getElementById("nSolutions"),T=document.getElementById("maxRestarts"),B=document.getElementById("onlyRequiredRestarts"),R=document.getElementById("restartPenalty");B.addEventListener("change",(()=>{B.checked||""!==T.value||(T.value="2")})),S.addEventListener("keypress",(e=>{"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),I.click())}));let N=e=>L.classList.toggle("disabled",!e);function $(e,t){let n=e%1e3,r=(e=(e-n)/1e3)%60,o=(e=(e-r)/60)%60,i=(e-o)/60,a=`${r.toString().padStart(2,"0")}.${n.toString().padStart(3,"0")}`;return(t||0!=o)&&(a=`${o.toString().padStart(2,"0")}:${a}`),0!=i&&(a=`${i.toString().padStart(2,"0")}:${a}`),a}i=(e,t)=>{let n=Number(C.value),r=function(e){let t=document.createElement("span");t.textContent=`${$(17*e.time,!0)} (${e.time}) with`;let n=document.createElement("code");n.textContent=e.route.join(", ");let r=document.createElement("li");return r.className="newSolution",r.replaceChildren(t," ",n),r}(e);var o,i,a;i=r,(a=t)>=(o=b).childElementCount?o.appendChild(i):b.insertBefore(i,o.children[a]),function(e,t){for(;e.childElementCount>t;)e.removeChild(e.lastChild)}(b,n)},I.addEventListener("click",(()=>{N(!0),x.textContent="",k.textContent="";let e=S.value,t=Number(C.value),n=""!==T.value?Number(T.value):void 0,r=B.checked,o=Number(R),i=Date.now();f({table:e,maxSolutions:t,maxRestarts:n,onlyRequiredRestarts:r,restartPenalty:o}).catch((e=>{k.textContent=`Error: ${e.message}`,console.error(e)})).then((e=>{let t=Date.now();if(e){let n=`${e.solutions} solutions found, ${e.iterations} calls to pathfind function in ${$(t-i,!0)} `;x.textContent=n}else x.textContent="Code not fully loaded yet, try again later"})).finally((()=>{N(!1)}))}));
//# sourceMappingURL=index.98179adc.js.map
